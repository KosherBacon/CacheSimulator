#include <stdint.h>
#include <stdlib.h>

#include "../include/simulator.h"

void tmp_run_sim()
{
    Simulator sim;
    sim.sets = 64;
    sim.set_bits = 6;
    sim.bytes_per_row = 32;
    sim.b_bits = 5;
    sim.lines = 1;
    sim.data_a_rows = 256;
    sim.data_a_cols = 256;
    sim.data_b_rows = 256;
    sim.data_b_cols = 256;
    sim.data_c_rows = 256;
    sim.data_c_cols = 256;
    sim.tag_size = 21;
    sim.tag_bits = 21;
    sim.cache = (uint32_t*) malloc(sizeof(uint32_t) * sim.sets * sim.lines);
    run_simulation(&sim);
    free(sim.cache);
}

int main(int argc, char* argv[])
{
    tmp_run_sim();
    return EXIT_SUCCESS;
}
